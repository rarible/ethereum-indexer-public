package com.rarible.protocol.order.core.parser

import io.daonomic.rpc.domain.Binary
import org.assertj.core.api.Assertions.assertThat
import org.junit.jupiter.api.Test

class SeaportOrderParserTest {
    @Test
    fun `convert - advanced order`() {
        val input = Binary.apply(
            "0x55944a4200000000000000000000000000000000000000000000000000000000000000600000000000000000000000000000000000000000000000000000000000000ac00000000000000000000000000000000000000000000000000000000000000d6000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000062000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000052000000000000000000000000000000000000000000000000000000000000005a00000000000000000000000000228aca40362f58092c3dc6c3b5e23690f91e37f000000000000000000000000004c00500000ad104d7dbd00e3ae0a5c00560c000000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000063ce1e460000000000000000000000000000000000000000000000000000000063ce21c90000000000000000000000000000000000000000000000000000000000000000360c6ebe00000000000000000000000000000000000000000637b335ac7bbd380000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f0000000000000000000000000000000000000000000000000000000000000000000300000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001a30ae66b41e00000000000000000000000000000000000000000000000000001a30ae66b41e00000000000000000000000000000000000000000000000000000000000000000003000000000000000000000000000000000000000000000000000000000000000400000000000000000000000042069abfe407c60cf4ae4112bedead391dba1cdb49b9709ec16a2bf006a7b64d1af1f0ed7f28e890650602a2002357f38a9bfafe000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000228aca40362f58092c3dc6c3b5e23690f91e37f0000000000000000000000000000000000000000000000000000000000000001000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a79df5c480c00000000000000000000000000000000000000000000000000000a79df5c480c0000000000000000000000000000000a26b00c1f0df003000390027140000faa7190000000000000000000000000000000000000000000000000000000000000001000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc20000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000014f3beb89018000000000000000000000000000000000000000000000000000014f3beb89018000000000000000000000000000f14d484b29a8ac040feb489afadb4b972422b4e900000000000000000000000000000000000000000000000000000000000000410c4df824ed82c780e20057cf9eb2190a58a5f6295aaa80713cef7a1fdd3d215e20752596d710c318312131785f72edd6a5b41aed613221d884ba673f922041a11c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000003a000000000000000000000000000000000000000000000000000000000000003e0000000000000000000000000dddd34f88b475dae9fef76af218b00cca0d7a06a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000022000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000063ce1e460000000000000000000000000000000000000000000000000000000063ce21c90000000000000000000000000000000000000000000000000000000000000000360c6ebe000000000000000000000000000000000000000009c5004b83deb0360000007b02230091a7ed01230072f7006a004d60a8d4e71d599b8104250f000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000200000000000000000000000042069abfe407c60cf4ae4112bedead391dba1cdb00000000000000000000000000000000000000000000000000000000000012060000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001839d485669bc0000000000000000000000000000000000000000000000000001839d485669bc000000000000000000000000000dddd34f88b475dae9fef76af218b00cca0d7a06a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000120600000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000d375af38c615bc3b651d74d7d59974b82de2cfc350734166de4356711f3dca12904a9f8ea26b99a311e7f1f5296986baefce4343ab8876d1bc6fb8e2513661da176dfadbe981215e8385eb0fd5078353789a3c1949703522b6cc8a5b978db156fa6e399c0097394e8ec1451f594281798c813f703e50eb659e2060e0239dba2552f24cca8c6f5edccb07651ec0cb1c8913c080babc0cffda2ec39946326b54f81f1404b67429efd8651e5ec98560acb3064e44271bb9ea538e50a77bfae51cbd721d0c3ad3a70835957c147c30ca3b508b287db767e799b1b4611ed7fab3da757a88c4bbb120024313cce10c222f030179e4c1e604eda0d13a381b8bfad53e00e8e557abd90e779c9def6b46e3d99c21ea0e127a480ea30619c29562b23e6325d2511f0111a609909fa0d7a138c5ddd792851e4a9a254e50142bfda4973d75c5b757324c8a0cf30d2256ce1e4261b67c6882100ef3b2aa5698c6bee33ae06b066964182981eb0c3ab32c722b0eeeec67c8edc72a4b8024ce0c6ce4356616146974ebfd7111b862536cc85dbe4ba9f50d2aa3748f0f8947f4aa25855e5a1b1115100000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000080000000000000000000000000000000000000000000000000000000000000018000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000380000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000360c6ebe"
        )
        val advanced = SeaportOrderParser.parseAdvancedOrders(input)
        assertThat(advanced).hasSize(2)

        assertThat(
            advanced[0].signature
        ).isEqualTo(Binary.apply("0x0c4df824ed82c780e20057cf9eb2190a58a5f6295aaa80713cef7a1fdd3d215e20752596d710c318312131785f72edd6a5b41aed613221d884ba673f922041a11c"))

        assertThat(
            advanced[1].signature
        ).isEqualTo(Binary.empty())
    }
}